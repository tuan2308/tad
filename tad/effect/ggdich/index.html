<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link as='style' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css'
        media='all' rel='stylesheet' />
<script> var tmbq = '127.0.0.1'; </script>
    <script crossorigin='anonymous'
        integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=='
        src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js'></script>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" media="all">

</head>

<body class="col-md-6">

    <link rel="stylesheet" media='all' href="https://cdn.taoanhdep.com/font/thuphap/stylesheet.css" />

    <img alt="Blank" class="d-none" height="0" id="Cimg"
        src="https://1.bp.blogspot.com/-z3RZ2G93tVo/YHES6yUdnzI/AAAAAAAArsw/Jq_pD24Pn-sEW-XwzGl18qlgIYQZZOeqgCNcBGAsYHQ/s0/blank.png"
        width="0">

    <canvas id="temp" width="1000" height="1500" style="border:1px solid #d3d3d3;width: 100%;">
        Your browser does not support the canvas element.
    </canvas>

    <script>

function wrapText(context, text, x, y, line_width, line_height)
{
    var line = '';
    var paragraphs = text.split('\n');
    for (var i = 0; i < paragraphs.length; i++)
    {
        var words = paragraphs[i].split(' ');
        for (var n = 0; n < words.length; n++)
        {
            var testLine = line + words[n] + ' ';
            var metrics = context.measureText(testLine);
            var testWidth = metrics.width;
            if (testWidth > line_width && n > 0)
            {
                context.fillText(line, x, y);
                line = words[n] + ' ';
                y += line_height;
            }
            else
            {
                line = testLine;
            }
        }
        context.fillText(line, x, y);
        y += line_height;
        line = '';
    }
}


        document.fonts.load('10pt "AR DARLING"').then(function () {

            var a = new Image();
            a.crossOrigin = "Anonymous";
            a.src = "https://lh3.googleusercontent.com/-o1aculqKF7U/YmthAdOPeHI/AAAAAAAA7ic/ZbV9PjQ0B10kBBuwlVoWa8zK6GSpCQQCwCNcBGAsYHQ/s0/bg.jpg";
            a.onload = function () {
                var a1 = new Image();
            a1.crossOrigin = "Anonymous";
            a1.src = "https://lh3.googleusercontent.com/-mzxacNVVNS8/YmtkzNeS-aI/AAAAAAAA7i4/D8foeIKe2tgyxmHsWzIMVykGzM3Z_Ta8wCNcBGAsYHQ/s0/anh-viet.jpg";
            a1.onload = function () {


                var c = document.getElementById("temp");

                var ctx = c.getContext("2d");

       ctx.drawImage(a, 0, 0, c.width, c.height);


    ctx.drawImage(a1, 0, 370, a1.width, a1.height);


  
     
      var text1 = '/Không phải mọi sự kiên trì đều có kết quả tốt,  có lúc bỏ cuộc không phải vì sợ tdhất bại  mà là phát hiện ra  thực sự nó đã mất đi ý nghĩa, từ bỏ là vì tương lai tốt hơn./';
      var text2 = 'Tạo ảnh đẹp';
    
    if (text1.length < 150){

        var lineHeight = 70;
      ctx.font = '70px Calibri';

    }else{

        var lineHeight = 50;
      ctx.font = '50px Calibri';


    }
     

      ctx.fillStyle = '#333';





      wrapText(ctx, text1, 30, 550, 900, lineHeight);



      wrapText(ctx, text2, 30, 1050, 950, lineHeight);

    }
            }
        })

    </script>



</body>
</html>
